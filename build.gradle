group 'com.hoddmimes.fitview'
version '1.0-SNAPSHOT'

apply plugin: 'java'

sourceCompatibility = 1.8
version = 0.1

repositories {
    mavenCentral()
}

def mysetup() {
    def tstamp = new Date().format('yyyy-MM-dd HH:mm:ss.SSS')
    def tstampbrief = new Date().format('yyyy-MM-dd HH:mm')

    def outFile = new File("./src/main/java/com/hoddmimes/fitview/Build.java")
    if (outFile.exists()) outFile.delete()
    outFile.createNewFile()
    outFile <<  "package com.hoddmimes.fitview;\r\n"
    outFile <<  "public class Build\r\n"
    outFile << "{\r\n"
    outFile << "    public static final String DateAndTimeFull = \"${tstamp}\";\r\n"
    outFile << "    public static final String DateAndTime = \"${tstampbrief}\";\r\n"
    outFile << "    public static final String Version = \"${version}\";\r\n"
    outFile << "}\r\n"
}

dependencies {
    mysetup();
    compile files ('lib/jcommon-1.0.23.jar')
    compile files ('lib/jfreechar-1.0.19.jar')
    compile files ('lib/fit.jar')
    compile files ('lib/common-math3-3.2.jar')
    compile group: 'com.intellij', name: 'forms_rt', version: '7.0.3'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}
